(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{102:function(e,t,a){},114:function(e,t){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),o=a.n(i);a(102),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(86),l=a(87),s=a(47),u=a(12),m=a(27),d=a(175),p=a(162),g=a(158),f=a(172),h=a(119),v=a(156),E=a(77),b=a.n(E),y=a(55),w=a(153),N=a(48),j=a.n(N),k=a(73),x=a.n(k),C=a(24),O=a.n(C),I=x()(j.a);var A=I.use((function(e){return e.set("Accept","application/json").set("Access-Control-Allow-Origin","*").set("Authorization","Bearer "+atob(O.a.get("token"))),e})),S=I=function(e){var t=e.Request,a=t.prototype.then,n=t.prototype.end;return t.prototype.end=function(e){return n.call(this,(function(t,a){[401,403].includes(a&&a.statusCode)&&(window.location.href="/login",O.a.remove("token")),e(t,a)}))},t.prototype.then=function(e){return a.call(this,(function(t){[401,403].includes(t&&t.statusCode)&&(window.location.href="/login",O.a.remove("token")),e(t)}))},e}(A);var T=Object(w.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),F=Object(u.g)((function(e){var t=T(),a=r.a.useState(""),n=Object(m.a)(a,2),i=n[0],o=n[1],c=r.a.useState(""),l=Object(m.a)(c,2),s=l[0],u=l[1];return r.a.createElement(v.a,{container:!0,component:"main",className:t.root},r.a.createElement(g.a,null),r.a.createElement(v.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),r.a.createElement(v.a,{item:!0,xs:12,sm:8,md:5,component:h.a,elevation:6,square:!0},r.a.createElement("div",{className:t.paper},r.a.createElement(d.a,{className:t.avatar},r.a.createElement(b.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,onSubmit:function(t){var a;t.preventDefault(),(a={accountId:i,pswd:s},new Promise((function(e,t){j.a.post("https://apertum-interview.herokuapp.com/api/user/login").set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","*").send(a).end((function(a,n){if(n&&200===n.statusCode){var r=n.body.token;r?O.a.set("token",btoa(r)):t(n),e(n)}else t(a)}))}))).then((function(t){e.history.replace("/users")})).catch((function(e){return console.error(e)}))}},r.a.createElement(f.a,{value:i,onChange:function(e){return o(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(f.a,{value:s,onChange:function(e){return u(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In")))))})),P=a(161),D=a(78),L=a(79),R=a(163),W=a(165),B=a(164),q=Object(w.a)((function(e){return{root:{padding:"2px 0"}}}));function z(e){var t=q(),a=new U(e.user);return r.a.createElement("div",{className:t.root},r.a.createElement(h.a,{variant:"outlined"},r.a.createElement(R.a,{alignItems:"center"},r.a.createElement(B.a,null,r.a.createElement(d.a,{alt:a.getFullName(),src:"/static/images/avatar/1.jpg"})),r.a.createElement(W.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"subtitle1",color:"textPrimary"},a.getFullName()),r.a.createElement(y.a,{variant:"body2",color:"textPrimary"},"Account ID : ",a.getAccountId()),r.a.createElement(y.a,{variant:"body2",color:"textPrimary"},"Age : ",a.getAge()))))))}var U=function(){function e(t){Object(D.a)(this,e),this.accountId=t.accountId,this.age=t.age,this.firstName=t.firstName,this.lastName=t.lastName}return Object(L.a)(e,[{key:"getFullName",value:function(){return"".concat(this.firstName," ").concat(this.lastName)}},{key:"getAge",value:function(){return this.age}},{key:"getAccountId",value:function(){return this.accountId}}]),e}(),G=a(169),H=a(166),J=a(177),M=a(173),V=a(167),_=a(168),Y=a(174),$=a(80),K=a.n($),Q=a(82),X=a.n(Q),Z=a(83),ee=a.n(Z),te=Object(w.a)((function(e){return{root:{paddingTop:"10px"},loader:{textAlign:"center",padding:"10px 0"},inline:{display:"inline"},searchFilterContainer:{display:"flex"},search:{position:"relative",width:"100%"},searchIcon:{width:5*e.spacing(1),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{paddingTop:1.5*e.spacing(1),paddingRight:e.spacing(1),paddingBottom:1.5*e.spacing(1),paddingLeft:5*e.spacing(1),transition:e.transitions.create("width"),width:"100%"},filterContainer:{marginTop:e.spacing(1),padding:2*e.spacing(1)},filterHeader:{display:"flex",alignItems:"center","& h6":{flex:1}},noData:{padding:2*e.spacing(1),textAlign:"center"}}}));function ae(e){return"".concat(e,"Yrs")}function ne(e){return"".concat(e)}function re(){var e=te(),t=function(){},a=r.a.useState(null),i=Object(m.a)(a,2),o=i[0],c=i[1],l=r.a.useState(""),s=Object(m.a)(l,2),u=s[0],d=s[1],p=r.a.useState(!1),g=Object(m.a)(p,2),f=g[0],v=g[1],E=r.a.useState([0,100]),b=Object(m.a)(E,2),w=b[0],N=b[1],j=r.a.useState(100),k=Object(m.a)(j,2),x=k[0],C=k[1];Object(n.useEffect)((function(){new Promise((function(e,t){S.get("https://apertum-interview.herokuapp.com/api/users").end((function(t,a){e(a.body)}))})).then((function(e){c(e)})).catch((function(e){return console.error(e)}))}),[]);var O;return r.a.createElement(H.a,{maxWidth:"md",className:e.root},r.a.createElement("div",{className:e.searchFilterContainer},r.a.createElement(h.a,{className:e.search,variant:"outlined"},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(K.a,null)),r.a.createElement(J.a,{placeholder:"Search",classes:{root:e.inputRoot,input:e.inputInput},onChange:function(e){clearTimeout(t);var a=e.target.value;t=setTimeout((function(){d(a)}),175)}})),r.a.createElement(M.a,{title:"Filter"},r.a.createElement(V.a,{"aria-label":"filter",color:"primary",onClick:function(){v((function(e){return!e}))}},r.a.createElement(X.a,{fontSize:"inherit"})))),r.a.createElement(_.a,{in:f},r.a.createElement(h.a,{className:e.filterContainer,variant:"outlined"},r.a.createElement("div",{className:e.filterHeader},r.a.createElement(y.a,{variant:"h6",display:"block"},"Filters :"),r.a.createElement(M.a,{title:"Clear Filter"},r.a.createElement(V.a,{"aria-label":"clear-filter",className:e.margin,onClick:function(){N([0,100]),C(100)}},r.a.createElement(ee.a,{fontSize:"small"})))),r.a.createElement(y.a,{id:"range-slider"},"User age range"),r.a.createElement(Y.a,{value:w,onChange:function(e,t){N(t)},valueLabelDisplay:"auto","aria-labelledby":"user-age-range-slider",getAriaValueText:ae}),r.a.createElement(y.a,{id:"range-slider"},"User name length range"),r.a.createElement(Y.a,{onChange:function(e,t){C(t)},getAriaValueText:ne,value:x,valueLabelDisplay:"auto","aria-labelledby":"user-name-length-range-slider"}))),r.a.createElement(P.a,null,o?o.length&&(O=u,o.filter((function(e){var t="".concat(e.firstName," ").concat(e.lastName)||"",a=e.age,n=t.length<=x,r=a>=w[0]&&a<w[1];return t.toLowerCase().includes(O.toLowerCase())&&n&&r})).map((function(e,t){return r.a.createElement(z,{key:t,user:e})}))):r.a.createElement("div",{className:e.loader},r.a.createElement(G.a,null))))}var ie=a(176),oe=a(170),ce=a(171),le=Object(w.a)((function(e){return Object(ie.a)({root:{flexGrow:1},main:{marginTop:"48px"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),se=Object(u.g)((function(e){var t=le();return r.a.createElement("div",{className:t.root},r.a.createElement(oe.a,{position:"fixed"},r.a.createElement(ce.a,{variant:"dense"},r.a.createElement(y.a,{variant:"h6",className:t.title},"Users"),r.a.createElement(p.a,{color:"inherit",onClick:function(){O.a.remove("token"),e.history.replace("/login")}},"Log out"))),r.a.createElement("main",{className:t.main},e.children))}));function ue(){return r.a.createElement(s.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/login",component:F}),r.a.createElement(se,null,r.a.createElement(u.a,{form:"/",to:"/users"}),r.a.createElement(me,{path:"/users"},r.a.createElement(re,null)))))}function me(e){var t=e.children,a=Object(l.a)(e,["children"]);return r.a.createElement(u.b,Object.assign({},a,{render:function(e){var a=e.location;return O.a.get("token")?t:r.a.createElement(u.a,{to:{pathname:"/login",state:{from:a}}})}}))}var de=a(34),pe=a(84),ge=a(85);var fe=[pe.a],he=Object(de.e)(Object(de.c)({loggedInUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge.a.Map(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"receive_user_details":return e;default:return e}}}),Object(de.d)(de.a.apply(void 0,fe),window.devToolsExtension?window.devToolsExtension():function(e){return e}));var ve=function(){return r.a.createElement(c.a,{store:he},r.a.createElement(ue,null))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){e.exports=a(118)}},[[97,1,2]]]);
//# sourceMappingURL=main.88942301.chunk.js.map